<!doctype html>
<html lang="en">
    
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Stackly ‚Äì Packaging Dashboard</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    /* ===== SCOPE EVERYTHING UNDER .dash (no root collisions) ===== */
    :where(.dash *){ box-sizing:border-box; }
    .dash{
      --radius:14px; --gap:14px;
      /* Paper & Packaging palette: warm kraft + forest green + charcoal */
      --bg:#0f1113;               /* page background (deep) */
      --panel:#151617;            /* panels/cards */
      --text:#f3efe6;             /* off-white */
      --muted:#b9b6ad;           /* muted text */
      --kraft:#caa45a;           /* kraft / mustard accent */
      --forest:#2f7a45;          /* green accent */
      --paper:#efe7d6;           /* light paper (used in charts/labels) */
      background:var(--bg); color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      min-height:100svh; display:grid; grid-template-columns:260px 1fr; grid-template-rows:auto 1fr;
      grid-template-areas:"sidebar header" "sidebar main";
    }

    /* subtle entrance animation */
    .fade-in { opacity:0; transform: translateY(6px); transition:opacity .45s ease, transform .45s ease; }
    .fade-in.show { opacity:1; transform:none; }

    /* ===== SIDEBAR ===== */
    .dash__sidebar{ grid-area:sidebar; position:sticky; top:0; height:100svh; padding:18px;
      background:linear-gradient(180deg,#121312,#0f1113); border-right:1px solid rgba(255,255,255,.03);
      display:flex; flex-direction:column; gap:14px; transition:transform .28s ease, opacity .28s ease; }
    .brand{ display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; background:rgba(255,255,255,.02); }
    .brand__logo{
      width:32px;height:32px;border-radius:8px;
      background:linear-gradient(135deg,var(--kraft), #b07b3f);
      box-shadow:0 8px 28px rgba(202,164,90,.12);
      display:grid;place-items:center;font-weight:800;color:#2b2315;
    }
    .brand__name{ margin:0; font-size:15px; letter-spacing:.2px; color:var(--paper) }
    .nav{ display:grid; gap:6px; }
    .nav a{ display:grid; grid-template-columns:28px 1fr auto; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; text-decoration:none; color:inherit; border:1px solid transparent; transition:background .18s ease, transform .12s ease; }
    .nav a:hover{ background: rgba(202,164,90,0.06); transform:translateX(4px); }
    .nav a.is-active{ background:rgba(47,122,69,0.12); border-color:rgba(47,122,69,0.14); box-shadow:0 6px 30px rgba(47,122,69,0.04); }
    .nav__icon{ width:28px; height:28px; display:grid; place-items:center; border-radius:8px; background:rgba(255,255,255,.02); font-size:12px; color:var(--muted) }
    .sep{ height:1px; background:linear-gradient(90deg,transparent,rgba(255,255,255,.03),transparent); margin:6px 0; }
    .sidebar-foot{ margin-top:auto; display:grid; gap:8px; }
    .sidebar-foot .mini{ display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; background:rgba(255,255,255,.01); border:1px solid rgba(255,255,255,.02); }
    .btn{ padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.04); background:rgba(255,255,255,.02); color:var(--text); cursor:pointer; transition:transform .12s ease, box-shadow .12s ease; }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.5); }

    /* collapse */
    .dash.is-collapsed{ grid-template-columns:84px 1fr; }
    .dash.is-collapsed .brand__name, .dash.is-collapsed .nav span, .dash.is-collapsed .sidebar-foot .mini strong, .dash.is-collapsed .sidebar-foot .mini small { display:none; }

    /* ===== HEADER ===== */
    .dash__header{ grid-area:header; display:grid; grid-template-columns:1fr auto auto; align-items:center; gap:10px;
      padding:14px 18px; border-bottom:1px solid rgba(255,255,255,.03);
      background:rgba(20,20,18,.55); backdrop-filter:saturate(140%) blur(6px); position:sticky; top:0; z-index:10; }
    .search{ display:flex; align-items:center; gap:10px; background:#121212; border:1px solid rgba(255,255,255,.03); border-radius:10px; padding:10px 12px; }
    .search input{ background:transparent; border:0; outline:0; color:var(--text); width:100%; font-size:14px; }
    .btn--brand{ background:linear-gradient(135deg,var(--kraft), #b07b3f); border-color:transparent; color:#2b2315; font-weight:700; }

    /* ===== MAIN GRID ===== */
    .dash__main{ grid-area:main; padding:18px; display:grid; gap:var(--gap); grid-template-columns:repeat(12,1fr); align-content:start; }
    .card{ background:var(--panel); border:1px solid rgba(255,255,255,.03); border-radius:var(--radius); padding:16px; box-shadow:0 10px 40px rgba(0,0,0,.5); transition:transform .14s ease, box-shadow .14s ease; }
    .card:hover{ transform:translateY(-4px); box-shadow:0 18px 50px rgba(0,0,0,.6); }
    .card__head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .card__title{ font-size:13px; color:var(--muted); letter-spacing:.08em; text-transform:uppercase; }

    /* KPIs */
    .kpis{ grid-column:1 / -1; display:grid; grid-template-columns:repeat(4,1fr); gap:var(--gap); }
    .kpi{ display:grid; gap:8px; }
    .kpi .value{ font-size:28px; font-weight:800; letter-spacing:-.02em; color:var(--paper); }
    .kpi .delta{ font-size:12px; color:var(--forest); }

    /* Layout */
    .chart-lg{ grid-column:span 8; }
    .chart-sm{ grid-column:span 4; }
    .table-wrap{ grid-column:span 7; }
    .activity{ grid-column:span 5; }
    canvas{ width:100% !important; height:320px !important; }

    /* Table */
    table{ width:100%; border-collapse:collapse; font-size:14px; color:var(--text); }
    thead th{ text-align:left; padding:10px; color:var(--muted); border-bottom:1px solid rgba(255,255,255,.03); }
    tbody td{ padding:12px 10px; border-bottom:1px dashed rgba(255,255,255,.02); }
    tbody tr:hover{ background:rgba(255,255,255,.01); }

    /* Activity */
    .timeline{ display:grid; gap:12px; }
    .tick{ display:grid; grid-template-columns:28px 1fr auto; gap:12px; align-items:center; }
    .dot{ width:10px;height:10px;border-radius:50%; background:var(--forest); box-shadow:0 0 0 6px rgba(47,122,69,.08); }
    .muted{ color:var(--muted); font-size:12px; }

    /* Responsive */
    @media (max-width:1200px){ .chart-lg{ grid-column:1 / -1; } .chart-sm{ grid-column:span 6; } .table-wrap{ grid-column:1 / -1; } .activity{ grid-column:1 / -1; } .kpis{ grid-template-columns:repeat(2,1fr); } }
    @media (max-width:900px){ .dash{ grid-template-columns:84px 1fr; } }
    @media (max-width:700px){ .dash__main{ grid-template-columns:repeat(6,1fr); } .chart-sm{ grid-column:span 6; } .kpis{ grid-template-columns:1fr; } }

    /* ----- Mobile off-canvas sidebar (override for small screens) ----- */
    @media (max-width: 900px) {
      .dash {
        grid-template-columns: 1fr;
        grid-template-areas:
          "header"
          "main";
      }
      .dash__header { grid-column: 1 / -1; }
      .dash__sidebar {
        position: fixed;
        left: 0;
        top: 0;
        height: 100vh;
        width: 84%;
        max-width: 340px;
        transform: translateX(-110%);
        transition: transform 280ms ease, opacity 280ms ease;
        z-index: 2000;
        box-shadow: 0 18px 40px rgba(2,6,23,.65);
        border-right: none;
        padding-top: 18px;
        background: linear-gradient(180deg,#121312,#0f1113);
        visibility: hidden;
        opacity: 0;
      }
      .dash__sidebar.open { transform: translateX(0); visibility: visible; opacity: 1; }
      .mobile-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 1990; display: none; }
      .mobile-overlay.visible { display:block; }
      .dash__sidebar { position: fixed; }
      .sidebar-foot #collapse { display: none; }
      .dash__main { padding-top: 12px; }
      .dash__header { padding-left: 56px; }
      .mobile-toggle { display: flex !important; }
    }

    /* mobile toggle (hidden by default on desktop) */
    .mobile-toggle {
      display: none;
      position: absolute;
      left: 16px;
      top: 12px;
      z-index: 2010;
      align-items: center;
      justify-content: center;
      padding: 8px 10px;
      border-radius: 10px;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.04);
      cursor: pointer;
      color:var(--text);
    }

    /* small utility for chart legends / fonts */
    .chart-legend { display:flex; gap:10px; align-items:center; font-size:13px; color:var(--muted); }

    /* small accessible focus states */
    a:focus, button:focus { outline: 3px solid rgba(202,164,90,.14); outline-offset: 3px; }

  </style>
</head>

<body class="dash">
  <!-- ==== Sidebar (keep this separate from your site header/footer) ==== -->
  <aside class="dash__sidebar fade-in" id="sidebar">
    <div class="brand"><div class="brand__logo">P</div><h1 class="brand__name">Stackly ‚Äî Paper & Packaging</h1></div>
    <nav class="nav">
      <a class="is-active" href="404page.html"><span class="nav__icon">üè≠</span><span>Overview</span><span></span></a>
      <a href="404page.html"><span class="nav__icon">üì¶</span><span>Production</span></a>
      <a href="404page.html"><span class="nav__icon">üßæ</span><span>Orders</span></a>
      <a href="404page.html"><span class="nav__icon">üìä</span><span>Inventory</span></a>
      <a href="404page.html"><span class="nav__icon">üöö</span><span>Logistics</span></a>
      <a href="404page.html"><span class="nav__icon">üë•</span><span>Clients</span></a>
      <a href="index.html"><span class="nav__icon">‚Ü©Ô∏è</span><span>Back to Website</span></a>
    </nav>
    <div class="sep"></div>
    <div class="sidebar-foot">
      <div class="mini"><div class="nav__icon">üì¶</div><div><strong>Packaging Suite</strong><br><small class="muted">Production templates & QA</small></div></div>
      <button class="btn" id="collapse">Toggle Sidebar</button>
    </div>
  </aside>

  <!-- ==== Header (local to dashboard) ==== -->
  <header class="dash__header">
    <div class="search"><span>üîç</span><input type="text" placeholder="Search orders, SKUs, clients..." aria-label="Search" /></div>
    <button class="btn" id="theme">üåô</button>
    <button class="btn btn--brand">New Order</button>
  </header>

  <!-- ==== Main ==== -->
  <main class="dash__main">
    <!-- KPIs -->
    <section class="kpis">
      <div class="card kpi fade-in show">
        <div class="card__head"><span class="card__title">Monthly Orders</span><span>‚ãØ</span></div>
        <div class="value">‚Çπ 24.3L</div><div class="delta">‚ñ≤ +6.8% MoM</div>
      </div>
      <div class="card kpi fade-in show" style="transition-delay:.05s">
        <div class="card__head"><span class="card__title">Production Output</span><span>‚ãØ</span></div>
        <div class="value">42,800 m¬≤</div><div class="delta">‚ñ≤ +3.2%</div>
      </div>
      <div class="card kpi fade-in show" style="transition-delay:.1s">
        <div class="card__head"><span class="card__title">Material Stock</span><span>‚ãØ</span></div>
        <div class="value">Kraft: 12T</div><div class="delta" style="color:var(--kraft)">‚Ä¢ Stable</div>
      </div>
      <div class="card kpi fade-in show" style="transition-delay:.15s">
        <div class="card__head"><span class="card__title">Avg Lead Time</span><span>‚ãØ</span></div>
        <div class="value">3.8 days</div><div class="delta" style="color:#ff6b6b">‚ñº -0.4d</div>
      </div>
    </section>

    <!-- Charts -->
    <section class="card chart-lg fade-in show" style="animation-delay:.02s">
      <div class="card__head"><span class="card__title">Orders (Last 12 Months)</span><span class="chart-legend"><span style="color:var(--kraft)">‚óè Orders</span><span style="color:var(--forest)">‚óè Production</span></span></div>
      <canvas id="chartLine" aria-label="Orders vs Production chart"></canvas>
    </section>

    <section class="card chart-sm fade-in show" style="animation-delay:.04s">
      <div class="card__head"><span class="card__title">Material Mix</span><span>üéõÔ∏è</span></div>
      <canvas id="chartDough" aria-label="Material mix doughnut chart"></canvas>
    </section>

    <section class="card chart-sm fade-in show" style="animation-delay:.06s">
      <div class="card__head"><span class="card__title">Weekly Production (m¬≤)</span><span>üìà</span></div>
      <canvas id="chartBar" aria-label="Weekly Production bar chart"></canvas>
    </section>

    <!-- Table -->
    <section class="card table-wrap fade-in show" style="animation-delay:.08s">
      <div class="card__head"><span class="card__title">Top Clients</span><button class="btn" id="export">Export CSV</button></div>
      <table>
        <thead><tr><th>Client</th><th>Service</th><th>Order Value</th><th>Status</th></tr></thead>
        <tbody id="tbodyClients">
          <tr><td>GreenPack Industries</td><td>Corrugated Boxes</td><td>‚Çπ 18,50,000</td><td>Active</td></tr>
          <tr><td>Kraftworks Pvt Ltd</td><td>Kraft Paper Sheets</td><td>‚Çπ 12,00,000</td><td>Active</td></tr>
          <tr><td>EcoWrap Solutions</td><td>Recycled Packaging</td><td>‚Çπ 8,75,000</td><td>Pending</td></tr>
          <tr><td>BoxLab</td><td>Display Cartons</td><td>‚Çπ 6,40,000</td><td>Active</td></tr>
          <tr><td>ParcelPro</td><td>Fulfilment Packaging</td><td>‚Çπ 4,20,000</td><td>Churned</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Activity -->
    <section class="card activity fade-in show" style="animation-delay:.10s">
      <div class="card__head"><span class="card__title">Activity</span><span>‚ö°</span></div>
      <div class="timeline">
        <div class="tick"><span class="dot"></span><p><strong>GreenPack Industries</strong> new PO received (20,000 pcs)</p><span class="muted">5m</span></div>
        <div class="tick"><span class="dot" style="background:var(--kraft); box-shadow:0 0 0 6px rgba(202,164,90,.08)"></span><p>Raw material <strong>Kraft</strong> batch QA passed</p><span class="muted">1h</span></div>
        <div class="tick"><span class="dot" style="background:#ff6b6b; box-shadow:0 0 0 6px rgba(255,107,107,.06)"></span><p>Delay reported for <strong>EcoWrap Solutions</strong> (ink supply)</p><span class="muted">3h</span></div>
        <div class="tick"><span class="dot"></span><p>Line B completed run (4,200 m¬≤)</p><span class="muted">6h</span></div>
      </div>
    </section>
  </main>

  <script>
    // ===== Sidebar collapse & theme toggle (dark/light) =====
(function(){
  const root = document.body;                  // root element with CSS vars
  const dash = document.querySelector('.dash'); // element to get helper class

  // collapse button
  const coll = document.getElementById('collapse');
  if (coll) coll.addEventListener('click', ()=> dash.classList.toggle('is-collapsed'));

  // theme toggle (keeps same structure but adjusts to packaging palette)
  const themeBtn = document.getElementById('theme');
  if (themeBtn) themeBtn.addEventListener('click', ()=> {
    const isLight = getComputedStyle(dash).getPropertyValue('--bg').trim() === '#f6f7fb';
    if (isLight) {
      // back to dark packaging theme
      dash.style.setProperty('--bg', '#0f1113');
      dash.style.setProperty('--panel', '#151617');
      dash.style.setProperty('--text', '#f3efe6');
      dash.style.setProperty('--muted', '#b9b6ad');
      dash.style.setProperty('--kraft', '#caa45a');
      dash.style.setProperty('--forest', '#2f7a45');
      themeBtn.textContent = 'üåô';
      dash.classList.remove('is-light');
    } else {
      // light version (paper-like)
      dash.style.setProperty('--bg', '#f6f7fb');
      dash.style.setProperty('--panel', '#ffffff');
      dash.style.setProperty('--text', '#0b0c0f');
      dash.style.setProperty('--muted', '#6b6e73');
      dash.style.setProperty('--kraft', '#b07b3f');
      dash.style.setProperty('--forest', '#2f7a45');
      themeBtn.textContent = '‚òÄÔ∏è';
      dash.classList.add('is-light');
    }
  });
})();


    // ===== Charts (Chart.js) - tailored for paper & packaging =====
    (function(){
      const rootStyles = getComputedStyle(document.body);
      const text = rootStyles.getPropertyValue('--text').trim() || '#f3efe6';
      const grid = 'rgba(255,255,255,.04)';

      // Orders (line) ‚Äî show orders vs production (numbers scaled for demo)
      new Chart(document.getElementById('chartLine'), {
        type: 'line',
        data: {
          labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
          datasets: [
            { label:'Orders (k)', data:[8,10,11,13,15,18,17,19,21,23,24,26], tension:.32, fill:true, borderColor:'rgba(202,164,90,1)', backgroundColor:'rgba(202,164,90,0.12)', pointRadius:2, pointBackgroundColor:'rgba(202,164,90,1)' },
            { label:'Production (m¬≤)', data:[7,9,10,12,14,16,15,17,18,20,21,22], tension:.32, fill:true, borderColor:'rgba(47,122,69,1)', backgroundColor:'rgba(47,122,69,0.08)', pointRadius:2, pointBackgroundColor:'rgba(47,122,69,1)' }
          ]
        },
        options: {
          responsive:true, maintainAspectRatio:false,
          scales:{ x:{ grid:{ color:grid }, ticks:{ color:text } }, y:{ grid:{ color:grid }, ticks:{ color:text } } },
          plugins:{ legend:{ labels:{ color:text } }, tooltip:{ intersect:false, mode:'index' } },
          interaction: { mode: 'nearest', intersect: false }
        }
      });

      // Doughnut: Material Mix (Kraft, Corrugated, Coated, Recycled)
      new Chart(document.getElementById('chartDough'), {
        type:'doughnut',
        data:{ labels:['Kraft','Corrugated','Coated','Recycled'], datasets:[{ data:[45,25,20,10], backgroundColor:['#caa45a','#a67b3a','#e6d1b0','#7ea979'] }] },
        options:{ plugins:{ legend:{ position:'bottom', labels:{ color:text } } }, cutout:'62%' }
      });

      // Bar: Weekly Production (sqm)
      new Chart(document.getElementById('chartBar'), {
        type:'bar',
        data:{ labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], datasets:[{ label:'Production (m¬≤)', data:[5600,6400,6100,6800,7400,8000,7200], backgroundColor:'#caa45a' }] },
        options:{ responsive:true, scales:{ x:{ grid:{ display:false }, ticks:{ color:text } }, y:{ grid:{ color:grid }, ticks:{ color:text } } }, plugins:{ legend:{ display:false } } }
      });
    })();

    // ===== Export table to CSV =====
    const exportBtn = document.getElementById('export');
    if (exportBtn) exportBtn.addEventListener('click', ()=> {
      const rows = [...document.querySelectorAll('#tbodyClients tr')].map(tr => [...tr.children].map(td => `"${td.textContent.replace(/"/g,'""')}"`).join(','));
      const csv  = ['"Client","Service","Order Value","Status"', ...rows].join('\n');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'stackly-clients.csv'; a.click(); URL.revokeObjectURL(a.href);
    });

    // small entrance toggles for fade-in elements
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.fade-in').forEach((el, i) => {
        setTimeout(()=> el.classList.add('show'), 80 + i * 40);
      });
    });
  </script>

  <!-- ===== single mobile toggle script (no duplicates) ===== -->
  <script>
    (function(){
      const header = document.querySelector('.dash__header');
      const sidebar = document.querySelector('.dash__sidebar');
      if (!header || !sidebar) return;

      // create hamburger button with class (styled via CSS)
      const btn = document.createElement('button');
      btn.id = 'mobileToggle';
      btn.className = 'mobile-toggle';
      btn.setAttribute('aria-label','Open menu');
      btn.innerHTML = '‚ò∞';
      header.appendChild(btn);

      // overlay (hidden by default)
      const overlay = document.createElement('div');
      overlay.className = 'mobile-overlay';
      document.body.appendChild(overlay);

      function openSidebar(){
        sidebar.classList.add('open');
        overlay.classList.add('visible');
        document.body.style.overflow = 'hidden';
      }
      function closeSidebar(){
        sidebar.classList.remove('open');
        overlay.classList.remove('visible');
        document.body.style.overflow = '';
      }

      btn.addEventListener('click', (e)=> {
        e.preventDefault();
        sidebar.classList.contains('open') ? closeSidebar() : openSidebar();
      });
      overlay.addEventListener('click', closeSidebar);
      sidebar.querySelectorAll('a').forEach(a => a.addEventListener('click', () => setTimeout(closeSidebar, 50)));
      document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeSidebar(); });

    })();
  </script>

</body>
</html>
